{% extends 'base.html' %} {% block content %}

<div class="row justify-content-center">
  {% if update %}
  <h1 class="text-center">Update Student Info</h1>
  {% else %}
  <h1 class="text-center">Create a new Student</h1>
  {% endif %}

  <div class="col-6 input-form mx-auto">
    <form
      method="POST"
      enctype="multipart/form-data"
      class="p-4 border rounded bg-light shadow"
    >
      {% csrf_token %}

      <div class="mb-3">
        <label for="name" class="form-label">Name:</label>
        <input
          type="text"
          id="name"
          name="name"
          class="form-control"
          value="{{ student.name|default_if_none:'' }}"
          required
        />
      </div>

      <div class="mb-3">
        <label for="roll" class="form-label">Roll:</label>
        <input
          type="text"
          id="roll"
          name="roll"
          class="form-control"
          value="{{ student.roll|default_if_none:'' }}"
          required
        />
      </div>

      <div class="mb-3">
        <label for="department" class="form-label">Department:</label>
        <input
          type="text"
          id="department"
          name="department"
          class="form-control"
          value="{{ student.department|default_if_none:'' }}"
          required
        />
      </div>

      <div class="mb-3">
        <label for="email" class="form-label">Email:</label>
        <input
          type="email"
          id="email"
          name="email"
          class="form-control"
          value="{{ student.email|default_if_none:'' }}"
          required
        />
      </div>

      <div class="mb-3">
        <label for="phone" class="form-label">Phone:</label>
        <input
          type="text"
          id="phone"
          name="phone"
          class="form-control"
          value="{{ student.phone|default_if_none:'' }}"
          required
        />
      </div>

      <div class="mb-3">
        <label for="photo" class="form-label">Photo:</label>
        <input type="file" id="photo" name="photo" class="form-control" />
        {% if student.photo %}
        <div class="mt-3">
          <img
            src="{{ student.photo.url }}"
            alt="Student Photo"
            class="img-thumbnail"
            style="max-width: 150px"
          />
        </div>
        {% endif %}
      </div>

      <button type="submit" class="btn btn-primary w-100">
        {% if update %}Update{% else %}Submit{% endif %}
      </button>
    </form>
  </div>
</div>

{% endblock %}
